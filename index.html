<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ol{margin:0;padding:0}table td,table th{padding:0}.c1{background-color:#ffffff;color:#212529;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:13.5pt;font-family:"Arial";font-style:normal}.c2{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c0{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c4{background-color:#ffffff;max-width:451.4pt;padding:72pt 72pt 72pt 72pt}.c5{background-color:#ffffff;font-size:13.5pt;color:#212529}.c3{height:11pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c4 doc-content"><p class="c0"><span class="c1">&lt;!DOCTYPE html&gt;</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&lt;head&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp;&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp;&lt;title&gt;AR project template&lt;/title&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp;&lt;!-- &#1044;&#1086;&#1076;&#1072;&#1108;&#1084;&#1086; &#1085;&#1077;&#1086;&#1073;&#1093;&#1110;&#1076;&#1085;&#1110; &#1073;&#1110;&#1073;&#1083;&#1110;&#1086;&#1090;&#1077;&#1082;&#1080; --&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp;&lt;script src=&quot;js/three.js&quot;&gt;&lt;/script&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp;&lt;script src=&quot;js/tween.umd.js&quot;&gt;&lt;/script&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp;&lt;script src=&#39;loaders/GLTFLoader.js&#39;&gt;&lt;/script&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp;&lt;script src=&#39;loaders/GLTF2Loader.js&#39;&gt;&lt;/script&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp;&lt;script src=&#39;loaders/MTLLoader.js&#39;&gt;&lt;/script&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp;&lt;script src=&#39;loaders/OBJLoader.js&#39;&gt;&lt;/script&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp;&lt;!-- &#1044;&#1086;&#1076;&#1072;&#1108;&#1084;&#1086; jsartookit --&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp;&lt;script src=&quot;jsartoolkit5/artoolkit.min.js&quot;&gt;&lt;/script&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp;&lt;script src=&quot;jsartoolkit5/artoolkit.api.js&quot;&gt;&lt;/script&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp;&lt;!-- &#1044;&#1086;&#1076;&#1072;&#1108;&#1084;&#1086; threex.artoolkit --&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp;&lt;script src=&quot;threex/threex-artoolkitsource.js&quot;&gt;&lt;/script&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp;&lt;script src=&quot;threex/threex-artoolkitcontext.js&quot;&gt;&lt;/script&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp;&lt;script src=&quot;threex/threex-arbasecontrols.js&quot;&gt;&lt;/script&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp;&lt;script src=&quot;threex/threex-armarkercontrols.js&quot;&gt;&lt;/script&gt;</span></p><p class="c0"><span class="c1">&lt;/head&gt;</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&lt;body style=&#39;margin : 0px; overflow: hidden; font-family: Monospace; user-select: none; pointer-events: none;&#39;&gt;</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp;&lt;div id=&quot;access&quot; style=&quot;top: 0; left: 0; right:0; bottom: 0; background: #000; position: absolute; user-select: all; pointer-events: all;&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp;&lt;div id=&quot;text-wrapper&quot; style=&quot;top: 50%; left: 50%; position: absolute; color: #fff; transform: translate(-50%, -50%); text-align: center;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;text-transform: uppercase; font-family: Arial, Helvetica, sans-serif; font-weight: 400; line-height: 1.5em; font-size: large; white-space: nowrap;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;user-select: none; pointer-events: none;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Press here</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;br&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;to enter the experience</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp;&lt;/div&gt;</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp;&lt;div id=&quot;loader&quot; style=&quot;position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: #fff; pointer-events: none; user-select: none;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp;transition: all .2s linear; display: none;&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp;&lt;div style=&quot;left: 50%; top: 50%; position: absolute; transform: translate(-50%, -50%); text-align: center; width: 130px; height: 165px;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;font-family: Arial, Helvetica, sans-serif; font-weight: 400; line-height: 1.5em; font-size: large;&quot; class=&quot;spinner-wrapper&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;img style=&quot;width: 130px; height: 130px; pointer-events: none; user-select: none;&quot; src=&quot;data/spin.gif&quot; alt=&quot;spin gif&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;br&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Loading...</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp;&lt;/div&gt;</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp;&lt;script&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp;const access = document.getElementById(&#39;access&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp;const loader = document.getElementById(&#39;loader&#39;);</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp;function initiateExperience() {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1054;&#1075;&#1086;&#1083;&#1086;&#1096;&#1091;&#1108;&#1084;&#1086; &#1075;&#1083;&#1086;&#1073;&#1072;&#1083;&#1100;&#1085;&#1110; &#1079;&#1084;&#1110;&#1085;&#1085;&#1110;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;var scene, camera, renderer, clock, deltaTime, totalTime;</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;var patternIdOffset = 10000000000</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1047;&#1084;&#1110;&#1085;&#1085;&#1110; &#1085;&#1077;&#1086;&#1073;&#1093;&#1110;&#1076;&#1085;&#1110; &#1076;&#1083;&#1103; &#1088;&#1086;&#1073;&#1086;&#1090;&#1080; AR &#1086;&#1090;&#1086;&#1095;&#1077;&#1085;&#1085;&#1103;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;var arToolkitSource, arToolkitContext;</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1043;&#1086;&#1083;&#1086;&#1074;&#1085;&#1080;&#1081; &#1082;&#1086;&#1085;&#1090;&#1077;&#1081;&#1085;&#1077;&#1088;, &#1076;&#1086; &#1103;&#1082;&#1086;&#1075;&#1086; &#1091;&#1074;&#1110;&#1081;&#1076;&#1091;&#1090;&#1100; &#1074;&#1089;&#1110; 3D &#1086;&#1073;&#39;&#1108;&#1082;&#1090;&#1080; &#1076;&#1083;&#1103; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1080;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;var markerRoot, mainContainer;</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1054;&#1082;&#1088;&#1077;&#1084;&#1080;&#1081; &#1084;&#1072;&#1089;&#1080;&#1074; &#1076;&#1083;&#1103; &#1079;&#1073;&#1077;&#1088;&#1110;&#1075;&#1072;&#1085;&#1085;&#1103; &#1074;&#1089;&#1100;&#1086;&#1075;&#1086; &#1072;&#1091;&#1076;&#1110;&#1086; &#1090;&#1072; &#1074;&#1110;&#1076;&#1077;&#1086; &#1082;&#1086;&#1085;&#1090;&#1077;&#1085;&#1090;&#1091;, &#1103;&#1082;&#1080;&#1081; &#1073;&#1091;&#1076;&#1077;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1079;&#1072;&#1087;&#1091;&#1097;&#1077;&#1085;&#1080;&#1081; &#1085;&#1072;&#1090;&#1080;&#1089;&#1082;&#1072;&#1085;&#1085;&#1103;&#1084; &#1085;&#1072; &#1077;&#1082;&#1088;&#1072;&#1085; &#1089;&#1084;&#1072;&#1088;&#1090;&#1092;&#1086;&#1085;&#1072;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;var audioContent = [];</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;var contentPromises = [];</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;let contentInitialized = false;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;let barcodesSound = new Map();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;let patternsSound = new Map();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;let barcodesID = [];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;let patternsID = [];</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;let controller;</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1030;&#1085;&#1110;&#1094;&#1110;&#1072;&#1083;&#1110;&#1079;&#1091;&#1108;&#1084;&#1086; &#1089;&#1094;&#1077;&#1085;&#1091; &#1090;&#1072; &#1079;&#1072;&#1087;&#1091;&#1089;&#1082;&#1072;&#1108;&#1084;&#1086; &#1094;&#1080;&#1082;&#1083; &#1072;&#1085;&#1110;&#1084;&#1072;&#1094;&#1110;&#1111;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;initialize();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;animate();</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;function initialize() {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1054;&#1075;&#1086;&#1083;&#1086;&#1096;&#1091;&#1108;&#1084;&#1086; &#1089;&#1094;&#1077;&#1085;&#1091;, &#1074; &#1103;&#1082;&#1091; &#1076;&#1086;&#1076;&#1072;&#1084;&#1086; &#1075;&#1086;&#1083;&#1086;&#1074;&#1085;&#1080;&#1081; &#1082;&#1086;&#1085;&#1090;&#1077;&#1081;&#1085;&#1077;&#1088; &#1079; &#1091;&#1089;&#1110;&#1084;&#1072; 3D &#1086;&#1073;&#39;&#1108;&#1082;&#1090;&#1072;&#1084;&#1080;.</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;scene = new THREE.Scene();</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1044;&#1086;&#1076;&#1072;&#1108;&#1084;&#1086; &#1089;&#1074;&#1110;&#1090;&#1083;&#1086; &#1085;&#1072; &#1089;&#1094;&#1077;&#1085;&#1091;, &#1110;&#1085;&#1072;&#1082;&#1096;&#1077; &#1073;&#1072;&#1079;&#1086;&#1074;&#1110; &#1084;&#1072;&#1090;&#1077;&#1088;&#1110;&#1072;&#1083;&#1080; &#1073;&#1091;&#1076;&#1091;&#1090;&#1100; &#1087;&#1088;&#1086;&#1089;&#1090;&#1086; &#1095;&#1086;&#1088;&#1085;&#1080;&#1084;&#1080;.</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1090;.&#1082;. &#1111;&#1084; &#1085;&#1077;&#1084;&#1072; &#1095;&#1086;&#1075;&#1086; &#1074;&#1110;&#1076;&#1086;&#1073;&#1088;&#1072;&#1078;&#1072;&#1090;&#1080;, &#1079;&#1074;&#1077;&#1088;&#1085;&#1110;&#1090;&#1100;&#1089;&#1103; &#1076;&#1086; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;&#1094;&#1110;&#1111; &#1073;&#1110;&#1073;&#1083;&#1110;&#1086;&#1090;&#1077;&#1082;&#1080; three.js, &#1097;&#1086;&#1073;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1087;&#1088;&#1086;&#1095;&#1080;&#1090;&#1072;&#1090;&#1080; &#1087;&#1088;&#1086; &#1076;&#1086;&#1082;&#1083;&#1072;&#1076;&#1085;&#1091; &#1088;&#1086;&#1073;&#1086;&#1090;&#1091; &#1082;&#1083;&#1072;&#1089;&#1091; Material</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;let ambientLight = new THREE.AmbientLight(0xffffff, 0.75);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;scene.add(ambientLight);</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1044;&#1086;&#1076;&#1072;&#1108;&#1084;&#1086; &#1082;&#1072;&#1084;&#1077;&#1088;&#1091;, &#1103;&#1082;&#1072; &#1073;&#1091;&#1076;&#1077; &#1087;&#1110;&#1079;&#1085;&#1110;&#1096;&#1077; &#1087;&#1077;&#1088;&#1077;&#1087;&#1088;&#1080;&#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1072; &#1085;&#1072; &#1082;&#1072;&#1084;&#1077;&#1088;&#1091; &#1089;&#1084;&#1072;&#1088;&#1090;&#1092;&#1086;&#1085;&#1072;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;camera = new THREE.Camera();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;scene.add(camera);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const listener = new THREE.AudioListener();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;camera.add(listener);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const audioLoader = new THREE.AudioLoader();</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1054;&#1075;&#1086;&#1083;&#1086;&#1096;&#1091;&#1108;&#1084;&#1086; &#1089;&#1090;&#1072;&#1085;&#1076;&#1072;&#1088;&#1090;&#1085;&#1080;&#1081; &#1088;&#1077;&#1085;&#1076;&#1077;&#1088;&#1077;&#1088; &#1110; &#1076;&#1086;&#1076;&#1072;&#1108;&#1084;&#1086; &#1081;&#1086;&#1075;&#1086; &#1076;&#1086; &#1090;&#1077;&#1075;&#1072; body html &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;renderer = new THREE.WebGLRenderer({</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;antialias: true,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;alpha: true</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;});</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;renderer.setClearColor(new THREE.Color(&#39;lightgrey&#39;), 0)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;renderer.setSize(640, 480);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;renderer.domElement.style.position = &#39;absolute&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;renderer.domElement.style.top = &#39;0px&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;renderer.domElement.style.left = &#39;0px&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;document.body.appendChild(renderer.domElement);</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;clock = new THREE.Clock();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;deltaTime = 0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;totalTime = 0;</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;arToolkitSource = new THREEx.ArToolkitSource({</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sourceType: &#39;webcam&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;});</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1060;&#1091;&#1085;&#1082;&#1094;&#1110;&#1103; &#1087;&#1077;&#1088;&#1077;&#1088;&#1077;&#1085;&#1076;&#1077;&#1088;&#1091;&#1108; AR &#1089;&#1094;&#1077;&#1085;&#1091; &#1087;&#1110;&#1076; &#1087;&#1086;&#1090;&#1086;&#1095;&#1085;&#1080;&#1081; &#1088;&#1086;&#1079;&#1084;&#1110;&#1088; canvas</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;function onResize() {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;arToolkitSource.onResize()</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;arToolkitSource.copySizeTo(renderer.domElement)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (arToolkitContext.arController !== null) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;arToolkitSource.copySizeTo(arToolkitContext.arController.canvas)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1042;&#1080;&#1082;&#1083;&#1080;&#1082;&#1072;&#1108;&#1084;&#1086; &#1092;&#1091;&#1085;&#1082;&#1094;&#1110;&#1102; &#1087;&#1110;&#1076; &#1095;&#1072;&#1089; &#1110;&#1085;&#1110;&#1094;&#1110;&#1072;&#1083;&#1110;&#1079;&#1072;&#1094;&#1110;&#1111; AR</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;arToolkitSource.init(function onReady() {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;onResize()</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;});</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1042;&#1080;&#1082;&#1083;&#1080;&#1082;&#1072;&#1108;&#1084;&#1086; &#1092;&#1091;&#1085;&#1082;&#1094;&#1110;&#1102; &#1085;&#1072; resize &#1110;&#1074;&#1077;&#1085;&#1090; &#1074;&#1077;&#1073;-&#1089;&#1090;&#1086;&#1088;&#1110;&#1085;&#1082;&#1080;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;window.addEventListener(&#39;resize&#39;, function () {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;onResize()</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;});</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1030;&#1085;&#1110;&#1094;&#1110;&#1072;&#1083;&#1110;&#1079;&#1091;&#1108;&#1084;&#1086; AR &#1082;&#1086;&#1085;&#1090;&#1077;&#1082;&#1089;&#1090; &#1087;&#1110;&#1076; &#1082;&#1072;&#1084;&#1077;&#1088;&#1091;, &#1087;&#1072;&#1090;&#1077;&#1088;&#1085;&#1080;, &#1073;&#1072;&#1088;&#1082;&#1086;&#1076; 3&#1093;3</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;arToolkitContext = new THREEx.ArToolkitContext({</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;cameraParametersUrl: &#39;data/camera_para.dat&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;detectionMode: &#39;mono_and_matrix&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;matrixCodeType: &quot;3x3&quot;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;maxDetectionRate: 60,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;canvasWidth: 640,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;canvasHeight: 480</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;});</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1042;&#1110;&#1076;&#1085;&#1086;&#1074;&#1083;&#1102;&#1108;&#1084;&#1086; &#1084;&#1072;&#1090;&#1088;&#1080;&#1094;&#1102; &#1087;&#1088;&#1086;&#1077;&#1082;&#1094;&#1110;&#1111; &#1082;&#1072;&#1084;&#1077;&#1088;&#1080; &#1087;&#1110;&#1089;&#1083;&#1103; &#1079;&#1072;&#1082;&#1110;&#1085;&#1095;&#1077;&#1085;&#1085;&#1103; &#1110;&#1085;&#1110;&#1094;&#1110;&#1072;&#1083;&#1110;&#1079;&#1072;&#1094;&#1110;&#1111;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;arToolkitContext.init(function onCompleted() {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;camera.projectionMatrix.copy(arToolkitContext.getProjectionMatrix());</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;});</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1057;&#1090;&#1074;&#1086;&#1088;&#1102;&#1108;&#1084;&#1086; &#1075;&#1086;&#1083;&#1086;&#1074;&#1085;&#1091; &#1075;&#1088;&#1091;&#1087;&#1091; &#1076;&#1083;&#1103; &#1074;&#1089;&#1110;&#1093; 3D &#1086;&#1073;&#39;&#1108;&#1082;&#1090;&#1110;&#1074;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mainContainer = new THREE.Group();</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1052;&#1072;&#1089;&#1080;&#1074; &#1085;&#1072;&#1079;&#1074; &#1092;&#1072;&#1081;&#1083;&#1110;&#1074; .patt. &#1052;&#1072;&#1089;&#1080;&#1074; &#1079;&#1072;&#1087;&#1086;&#1074;&#1085;&#1102;&#1108;&#1090;&#1100;&#1089;&#1103; &#1074; &#1087;&#1086;&#1088;&#1103;&#1076;&#1082;&#1091; &#1076;&#1086;&#1076;&#1072;&#1074;&#1072;&#1085;&#1085;&#1103; &#1084;&#1072;&#1088;&#1082;&#1077;&#1088;&#1110;&#1074;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1103;&#1082;&#1097;&#1086; &#1079;&#1072;&#1084;&#1110;&#1089;&#1090;&#1100; .patt &#1073;&#1091;&#1083;&#1086; &#1076;&#1086;&#1076;&#1072;&#1085;&#1086; &#1073;&#1072;&#1088;&#1082;&#1086;&#1076;, &#1085;&#1072; &#1081;&#1086;&#1075;&#1086; &#1084;&#1110;&#1089;&#1094;&#1077; &#1074; &#1084;&#1072;&#1089;&#1080;&#1074; &#1076;&#1086;&#1076;&#1072;&#1108;&#1090;&#1100;&#1089;&#1103; &#1087;&#1086;&#1088;&#1086;&#1078;&#1085;&#1110;&#1081; &#1088;&#1103;&#1076;&#1086;&#1082;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const patternNames = [&quot;&quot; ,&quot;&quot; ,&quot;&quot;];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1052;&#1072;&#1089;&#1080;&#1074; &#1073;&#1072;&#1088;&#1082;&#1086;&#1076;&#1110;&#1074;, &#1079;&#1072;&#1087;&#1086;&#1074;&#1085;&#1102;&#1108;&#1090;&#1100;&#1089;&#1103; &#1086;&#1076;&#1085;&#1086;&#1095;&#1072;&#1089;&#1085;&#1086; &#1079; &#1084;&#1072;&#1089;&#1080;&#1074;&#1086;&#1084; &#1087;&#1072;&#1090;&#1077;&#1088;&#1085;&#1110;&#1074;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1103;&#1082;&#1097;&#1086; &#1079;&#1072;&#1084;&#1110;&#1089;&#1090;&#1100; &#1073;&#1072;&#1088;&#1082;&#1086;&#1076;&#1091; &#1073;&#1091;&#1074; &#1076;&#1086;&#1076;&#1072;&#1085;&#1080;&#1081; .patt, &#1085;&#1072; &#1081;&#1086;&#1075;&#1086; &#1084;&#1110;&#1089;&#1094;&#1077; &#1084;&#1072;&#1089;&#1080;&#1074; &#1076;&#1086;&#1076;&#1072;&#1108;&#1090;&#1100;&#1089;&#1103; -1</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const patternBarcode = [1 ,2 ,3];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1052;&#1072;&#1089;&#1080;&#1074; &#1090;&#1080;&#1087;&#1110;&#1074; &#1082;&#1086;&#1085;&#1090;&#1077;&#1085;&#1090;&#1091; &#1082;&#1086;&#1078;&#1085;&#1086;&#1075;&#1086; &#1084;&#1072;&#1088;&#1082;&#1077;&#1088;&#1072;, &#1079;&#1072;&#1087;&#1086;&#1074;&#1085;&#1102;&#1108;&#1090;&#1100;&#1089;&#1103; &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1085;&#1103;&#1084;&#1080;: &#1079;&#1086;&#1073;&#1088;&#1072;&#1078;&#1077;&#1085;&#1085;&#1103;, &#1084;&#1086;&#1076;&#1077;&#1083;&#1100;, &#1074;&#1110;&#1076;&#1077;&#1086;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const modes = [&quot;image&quot; ,&quot;image&quot; ,&quot;image&quot;];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1052;&#1072;&#1089;&#1080;&#1074; &#1092;&#1072;&#1081;&#1083;&#1110;&#1074; &#1084;&#1086;&#1076;&#1077;&#1083;&#1077;&#1081;, &#1103;&#1082;&#1097;&#1086; &#1085;&#1077;&#1084;&#1072;&#1108; &#1084;&#1086;&#1076;&#1077;&#1083;&#1110; &#1073;&#1091;&#1076;&#1077; &#1076;&#1086;&#1076;&#1072;&#1085;&#1086; &#1087;&#1086;&#1088;&#1086;&#1078;&#1085;&#1110;&#1081; &#1088;&#1103;&#1076;&#1086;&#1082;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const modelFiles = [&quot;&quot; ,&quot;&quot; ,&quot;&quot;];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1052;&#1072;&#1089;&#1080;&#1074; &#1092;&#1072;&#1081;&#1083;&#1110;&#1074; &#1079;&#1086;&#1073;&#1088;&#1072;&#1078;&#1077;&#1085;&#1100;, &#1103;&#1082;&#1097;&#1086; &#1085;&#1077;&#1084;&#1072;&#1108; &#1079;&#1086;&#1073;&#1088;&#1072;&#1078;&#1077;&#1085;&#1085;&#1103; &#1073;&#1091;&#1076;&#1077; &#1076;&#1086;&#1076;&#1072;&#1085;&#1086; &#1090;&#1072;&#1082;&#1086;&#1078; &#1087;&#1086;&#1088;&#1086;&#1078;&#1085;&#1110;&#1081; &#1088;&#1103;&#1076;&#1086;&#1082;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const imageFiles = [&quot;unnamed.jpeg&quot; ,&quot;matematico-y-pensador.jpg.jpeg&quot; ,&quot;medium_1926_0192__0001_.jpeg&quot;];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1052;&#1072;&#1089;&#1080;&#1074; &#1092;&#1072;&#1081;&#1083;&#1110;&#1074; &#1074;&#1110;&#1076;&#1077;&#1086;, &#1103;&#1082;&#1097;&#1086; &#1085;&#1077;&#1084;&#1072;&#1108; &#1074;&#1110;&#1076;&#1077;&#1086; &#1073;&#1091;&#1076;&#1077; &#1097;&#1077; &#1086;&#1076;&#1080;&#1085; &#1087;&#1086;&#1088;&#1086;&#1078;&#1085;&#1110;&#1081; &#1088;&#1103;&#1076;&#1086;&#1082;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const videoFiles = [&quot;&quot; ,&quot;&quot; ,&quot;&quot;];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1052;&#1072;&#1089;&#1080;&#1074; &#1092;&#1072;&#1081;&#1083;&#1110;&#1074; &#1072;&#1091;&#1076;&#1110;&#1086;, &#1103;&#1082;&#1097;&#1086; &#1085;&#1077;&#1084;&#1072;&#1108; &#1072;&#1091;&#1076;&#1110;&#1086; &#1073;&#1091;&#1076;&#1077; &#1090;&#1072;&#1082; &#1089;&#1072;&#1084;&#1086; &#1087;&#1086;&#1088;&#1086;&#1078;&#1085;&#1110;&#1081; &#1088;&#1103;&#1076;&#1086;&#1082;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const audioFiles = [&quot;author_info.mp3&quot; ,&quot;pascal.mp3&quot; ,&quot;calculator.mp3&quot;];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1052;&#1072;&#1089;&#1080;&#1074; &#1086;&#1087;&#1094;&#1110;&#1081; &#1087;&#1086;&#1074;&#1090;&#1086;&#1088;&#1091; &#1072;&#1091;&#1076;&#1110;&#1086; &#1090;&#1072; &#1074;&#1110;&#1076;&#1077;&#1086; &#1082;&#1086;&#1085;&#1090;&#1077;&#1085;&#1090;&#1091;, &#1087;&#1086; &#1076;&#1077;&#1092;&#1086;&#1083;&#1090;&#1091; &#1076;&#1083;&#1103; &#1074;&#1089;&#1110;&#1093; &#1073;&#1091;&#1076;&#1077; false</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const repeatOptions = [&quot;false&quot; ,&quot;false&quot; ,&quot;false&quot;];</span></p><p class="c0 c3"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1057;&#1090;&#1074;&#1086;&#1088;&#1102;&#1108;&#1084;&#1086; &#1084;&#1072;&#1089;&#1080;&#1074; &#1076;&#1083;&#1103; &#1074;&#1089;&#1110;&#1093; &#1084;&#1072;&#1088;&#1082;&#1077;&#1088;&#1110;&#1074;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const markerRoots = [];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;for (let i = 0; i &lt; 3; i++) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;markerRoots[i] = new THREE.Group();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0 c3"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1055;&#1088;&#1086;&#1093;&#1086;&#1076;&#1080;&#1084;&#1086; &#1087;&#1086; &#1082;&#1086;&#1078;&#1085;&#1086;&#1084;&#1091; &#1084;&#1072;&#1088;&#1082;&#1077;&#1088;&#1091; &#1079; &#1084;&#1072;&#1089;&#1080;&#1074;&#1091; &#1110; &#1076;&#1086;&#1076;&#1072;&#1108;&#1084;&#1086; &#1081;&#1086;&#1075;&#1086; &#1074; &#1075;&#1086;&#1083;&#1086;&#1074;&#1085;&#1080;&#1081; &#1082;&#1086;&#1085;&#1090;&#1077;&#1081;&#1085;&#1077;&#1088;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;for (let i = 0; i &lt; 3; i++) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mainContainer.add(markerRoots[i]);</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1071;&#1082;&#1097;&#1086; &#1087;&#1086;&#1090;&#1086;&#1095;&#1085;&#1080;&#1081; &#1084;&#1072;&#1088;&#1082;&#1077;&#1088; &ndash; &#1094;&#1077; &#1073;&#1072;&#1088;&#1082;&#1086;&#1076;, &#1089;&#1090;&#1074;&#1086;&#1088;&#1102;&#1108;&#1084;&#1086; AR &#1082;&#1086;&#1085;&#1090;&#1088;&#1086;&#1083;&#1077;&#1088; &#1087;&#1110;&#1076; &#1073;&#1072;&#1088;&#1082;&#1086;&#1076;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1103;&#1082;&#1097;&#1086; &#1087;&#1086;&#1090;&#1086;&#1095;&#1085;&#1080;&#1081; &#1084;&#1072;&#1088;&#1082;&#1077;&#1088; &#1094;&#1077; &#1087;&#1072;&#1090;&#1077;&#1088;&#1085;, &#1072;&#1085;&#1072;&#1083;&#1086;&#1075;&#1110;&#1095;&#1085;&#1086; &#1089;&#1090;&#1074;&#1086;&#1088;&#1102;&#1108;&#1084;&#1086; AR &#1082;&#1086;&#1085;&#1090;&#1088;&#1086;&#1083;&#1077;&#1088; &#1087;&#1110;&#1076; &#1087;&#1072;&#1090;&#1077;&#1088;&#1085;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (patternBarcode[i] === -1) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;let markerControls1 = new THREEx.ArMarkerControls(arToolkitContext, markerRoots[i], {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;type: &#39;pattern&#39;, patternUrl: patternNames[i], size: 1 + (i + 1) / patternIdOffset</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;})</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;patternsID.push(patternNames[i]);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} else {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;let markerControls1 = new THREEx.ArMarkerControls(arToolkitContext, markerRoots[i], {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;type: &quot;barcode&quot;, barcodeValue: patternBarcode[i],</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;})</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;barcodesID.push(patternBarcode[i]);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1042;&#1080;&#1082;&#1086;&#1088;&#1080;&#1089;&#1090;&#1086;&#1074;&#1091;&#1108;&#1084;&#1086; switch &#1076;&#1083;&#1103; &#1088;&#1086;&#1073;&#1086;&#1090;&#1080; &#1079; &#1082;&#1086;&#1078;&#1085;&#1080;&#1084; &#1086;&#1082;&#1088;&#1077;&#1084;&#1080;&#1084; &#1074;&#1080;&#1087;&#1072;&#1076;&#1082;&#1086;&#1084; &#1082;&#1086;&#1085;&#1090;&#1077;&#1085;&#1090;&#1091;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;switch (modes[i]) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1071;&#1082;&#1097;&#1086; &#1082;&#1086;&#1085;&#1090;&#1077;&#1085;&#1090; &#1087;&#1110;&#1076; &#1084;&#1072;&#1088;&#1082;&#1077;&#1088; &#1094;&#1077; &#1084;&#1086;&#1076;&#1077;&#1083;&#1100;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;case &#39;model&#39;:</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;function onProgress(xhr) { console.log((xhr.loaded / xhr.total * 100) + &#39;% loaded&#39;); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;function onError(xhr) { console.log(&#39;An error happened&#39;); }</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;contentPromises.push(new Promise((resolve) =&gt; {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const test = new THREE.GLTF2Loader().load(`${modelFiles[i]}`, (response) =&gt; {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const scene = response.scene;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const object = scene.children[0];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1030;&#1085;&#1086;&#1076;&#1110; &#1084;&#1086;&#1076;&#1077;&#1083;&#1100; &#1085;&#1077; &#1084;&#1086;&#1078;&#1085;&#1072; &#1087;&#1086;&#1073;&#1072;&#1095;&#1080;&#1090;&#1080; &#1079; &#1082;&#1110;&#1083;&#1100;&#1082;&#1086;&#1093; &#1087;&#1088;&#1080;&#1095;&#1080;&#1085;, &#1085;&#1072;&#1081;&#1095;&#1072;&#1089;&#1090;&#1110;&#1096;&#1077; &#1074;&#1072;&#1088;&#1090;&#1086; &#1079;&#1073;&#1110;&#1083;&#1100;&#1096;&#1080;&#1090;&#1080; &#1095;&#1080; &#1079;&#1084;&#1077;&#1085;&#1096;&#1080;&#1090;&#1080; &#1091; 100 &#1088;&#1072;&#1079;&#1110;&#1074;.</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1063;&#1080;&#1090;&#1072;&#1081;&#1090;&#1077;: https://threejs.org/docs/index.html#manual/en/introduction/Loading-3D-models</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1058;&#1091;&#1090; &#1084;&#1080; &#1079;&#1084;&#1077;&#1085;&#1096;&#1091;&#1108;&#1084;&#1086; &#1111;&#1111;, &#1097;&#1086;&#1073; &#1090;&#1086;&#1095;&#1085;&#1086; &#1087;&#1086;&#1073;&#1072;&#1095;&#1080;&#1090;&#1080; &#1111;&#1111; &#1085;&#1072; &#1089;&#1094;&#1077;&#1085;&#1110;. &#1042;&#1080; &#1084;&#1086;&#1078;&#1077;&#1090;&#1077; &#1074;&#1080;&#1076;&#1072;&#1083;&#1080;&#1090;&#1080; &#1094;&#1102; &#1096;&#1082;&#1072;&#1083;&#1091;, &#1103;&#1082;&#1097;&#1086; &#1087;&#1086;&#1090;&#1088;&#1110;&#1073;&#1085;&#1086;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;object.scale.set(0.01, 0.01, 0.01);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1042;&#1080; &#1084;&#1086;&#1078;&#1077;&#1090;&#1077; &#1089;&#1072;&#1084;&#1086;&#1089;&#1090;&#1110;&#1081;&#1085;&#1086; &#1079;&#1084;&#1110;&#1085;&#1080;&#1090;&#1080; &#1087;&#1086;&#1074;&#1086;&#1088;&#1086;&#1090; &#1072;&#1073;&#1086; &#1087;&#1086;&#1079;&#1080;&#1094;&#1110;&#1102; &#1084;&#1086;&#1076;&#1077;&#1083;&#1110;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// object.position.set(0, Math.PI / 2, Math.PI / 4);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// object.rotation.set(0, Math.PI / 2, Math.PI / 4);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1044;&#1086;&#1076;&#1072;&#1074;&#1072;&#1085;&#1085;&#1103; &#1085;&#1072;&#1096;&#1086;&#1111; &#1084;&#1086;&#1076;&#1077;&#1083;&#1110; &#1076;&#1086; &#1082;&#1086;&#1085;&#1090;&#1077;&#1081;&#1085;&#1077;&#1088;&#1072; &#1075;&#1088;&#1091;&#1087;&#1080; &#1084;&#1072;&#1088;&#1082;&#1077;&#1088;&#1110;&#1074;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;markerRoots[i].add(object);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;resolve(modelFiles[i])</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}, onProgress, onError)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}).then((file) =&gt; {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;console.log(`File ${file} loaded`)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}))</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;break;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1071;&#1082;&#1097;&#1086; &#1082;&#1086;&#1085;&#1090;&#1077;&#1085;&#1090; &#1087;&#1110;&#1076; &#1084;&#1072;&#1088;&#1082;&#1077;&#1088; &#1094;&#1077; &#1079;&#1086;&#1073;&#1088;&#1072;&#1078;&#1077;&#1085;&#1085;&#1103;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;case &#39;image&#39;:</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (imageFiles[i]) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;contentPromises.push(new Promise((resolve) =&gt; {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1047;&#1072;&#1074;&#1072;&#1085;&#1090;&#1072;&#1078;&#1091;&#1108;&#1084;&#1086; &#1079;&#1086;&#1073;&#1088;&#1072;&#1078;&#1077;&#1085;&#1085;&#1103;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;let loader = new THREE.TextureLoader();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;loader.load(`${imageFiles[i]}`, (texture) =&gt; {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;let geometry1, ratio = texture.image.naturalWidth / texture.image.naturalHeight;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (texture.image.naturalHeight &lt; texture.image.naturalWidth) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;geometry1 = new THREE.PlaneBufferGeometry(ratio, 1);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} else {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;geometry1 = new THREE.PlaneBufferGeometry(1, 1 / ratio);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;let material1 = new THREE.MeshBasicMaterial({ map: texture, side: THREE.DoubleSide });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mesh1 = new THREE.Mesh(geometry1, material1);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1055;&#1086;&#1074;&#1077;&#1088;&#1090;&#1072;&#1108;&#1084;&#1086; &#1087;&#1083;&#1086;&#1097;&#1080;&#1085;&#1091;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mesh1.rotation.x = -Math.PI / 2;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1044;&#1086;&#1076;&#1072;&#1108;&#1084;&#1086; &#1087;&#1083;&#1086;&#1097;&#1080;&#1085;&#1091; &#1091; &#1082;&#1086;&#1085;&#1090;&#1077;&#1081;&#1085;&#1077;&#1088;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;markerRoots[i].add(mesh1);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;resolve(imageFiles[i])</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;});</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}).then(image =&gt; {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;console.log(`File ${image} loaded`)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}))</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;break;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1071;&#1082;&#1097;&#1086; &#1082;&#1086;&#1085;&#1090;&#1077;&#1085;&#1090; &#1087;&#1110;&#1076; &#1084;&#1072;&#1088;&#1082;&#1077;&#1088; - &#1094;&#1077; &#1074;&#1110;&#1076;&#1077;&#1086;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;case &#39;video&#39;:</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1054;&#1075;&#1086;&#1083;&#1086;&#1096;&#1091;&#1108;&#1084;&#1086; &#1087;&#1083;&#1086;&#1097;&#1080;&#1085;&#1091; &#1087;&#1110;&#1076; &#1074;&#1110;&#1076;&#1077;&#1086;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;let geometry2 = new THREE.PlaneBufferGeometry(1.6 , 0.9);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1054;&#1075;&#1086;&#1083;&#1086;&#1096;&#1091;&#1108;&#1084;&#1086; &#1090;&#1072; &#1079;&#1072;&#1074;&#1072;&#1085;&#1090;&#1072;&#1078;&#1091;&#1108;&#1084;&#1086; &#1074;&#1110;&#1076;&#1077;&#1086;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;let video = document.createElement(&#39;video&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;video.src = `${videoFiles[i]}`;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;video.playsInline = true;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1042;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1083;&#1102;&#1108;&#1084;&#1086; &#1074;&#1110;&#1076;&#1077;&#1086; &#1085;&#1072; &#1072;&#1074;&#1090;&#1086;&#1087;&#1086;&#1074;&#1090;&#1086;&#1088; &#1079;&#1072;&#1083;&#1077;&#1078;&#1085;&#1086; &#1074;&#1110;&#1076; &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1085;&#1103; &#1091; &#1084;&#1072;&#1089;&#1080;&#1074;&#1110;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (repeatOptions[i]) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;video.addEventListener(&#39;ended&#39;, () =&gt; {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;video.play();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;})</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1044;&#1086;&#1076;&#1072;&#1108;&#1084;&#1086; &#1074;&#1110;&#1076;&#1077;&#1086; &#1076;&#1086; &#1084;&#1072;&#1089;&#1080;&#1074;&#1091; &#1072;&#1091;&#1076;&#1110;&#1086; &#1082;&#1086;&#1085;&#1090;&#1077;&#1085;&#1090;&#1091;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (patternBarcode[i] === -1) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;patternsSound.set(i, video);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} else {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;barcodesSound.set(patternBarcode[i], video);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1055;&#1077;&#1088;&#1077;&#1085;&#1072;&#1087;&#1088;&#1072;&#1074;&#1083;&#1103;&#1108;&#1084;&#1086; &#1090;&#1077;&#1082;&#1089;&#1090;&#1091;&#1088;&#1091; &#1079; &#1074;&#1110;&#1076;&#1077;&#1086; &#1085;&#1072; &#1084;&#1072;&#1090;&#1077;&#1088;&#1110;&#1072;&#1083; &#1076;&#1083;&#1103; &#1087;&#1083;&#1086;&#1097;&#1080;&#1085;&#1080;.</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;let texture2 = new THREE.VideoTexture(video);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;texture2.minFilter = THREE.LinearFilter;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;texture2.magFilter = THREE.LinearFilter;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;texture2.format = THREE.RGBFormat;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;let material2 = new THREE.MeshBasicMaterial({ map: texture2 });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mesh2 = new THREE.Mesh(geometry2, material2);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1055;&#1086;&#1074;&#1077;&#1088;&#1090;&#1072;&#1108;&#1084;&#1086; &#1087;&#1083;&#1086;&#1097;&#1080;&#1085;&#1091;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mesh2.rotation.x = -Math.PI / 2;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1044;&#1086;&#1076;&#1072;&#1108;&#1084;&#1086; &#1087;&#1083;&#1086;&#1097;&#1080;&#1085;&#1091; &#1091; &#1082;&#1086;&#1085;&#1090;&#1077;&#1081;&#1085;&#1077;&#1088;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;markerRoots[i].add(mesh2);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;break;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;case &#39;controller&#39;:</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;controller = new THREE.Mesh(</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;new THREE.CubeGeometry(10, 0.15, 0.15),</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;new THREE.MeshBasicMaterial({ color: &#39;green&#39; })</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;controller.rotation.y = Math.PI / 2;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;controller.position.y = 0.125;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;controller.position.z = -4.5;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;markerRoots[i].add(controller);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;break;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default:</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1071;&#1082;&#1097;&#1086; &#1078;&#1086;&#1076;&#1085;&#1086;&#1075;&#1086; &#1082;&#1086;&#1085;&#1090;&#1077;&#1085;&#1090;&#1091; &#1085;&#1077; &#1076;&#1086;&#1076;&#1072;&#1085;&#1086;, &#1076;&#1086;&#1076;&#1072;&#1108;&#1084;&#1086; &#1073;&#1110;&#1083;&#1091; &#1087;&#1083;&#1086;&#1097;&#1080;&#1085;&#1091;.</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mesh11 = new THREE.Mesh(new THREE.PlaneBufferGeometry(1, 1),</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;new THREE.MeshBasicMaterial({ color: &#39;#fff&#39; }));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1055;&#1086;&#1074;&#1077;&#1088;&#1090;&#1072;&#1108;&#1084;&#1086; &#1087;&#1083;&#1086;&#1097;&#1080;&#1085;&#1091;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mesh11.rotation.x = -Math.PI / 2;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1044;&#1086;&#1076;&#1072;&#1108;&#1084;&#1086; &#1087;&#1083;&#1086;&#1097;&#1080;&#1085;&#1091; &#1091; &#1082;&#1086;&#1085;&#1090;&#1077;&#1081;&#1085;&#1077;&#1088;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;markerRoots[i].add(mesh11);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;break;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1071;&#1082;&#1097;&#1086; &#1108; &#1072;&#1091;&#1076;&#1110;&#1086; &#1092;&#1072;&#1081;&#1083;&#1080;, &#1085;&#1072;&#1083;&#1072;&#1096;&#1090;&#1086;&#1074;&#1091;&#1108;&#1084;&#1086; &#1111;&#1093; &#1110; &#1076;&#1086;&#1076;&#1072;&#1108;&#1084;&#1086; &#1074; &#1084;&#1072;&#1089;&#1080;&#1074; &#1072;&#1091;&#1076;&#1110;&#1086; &#1082;&#1086;&#1085;&#1090;&#1077;&#1085;&#1090;&#1091;.</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (audioFiles[i]) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;contentPromises.push(new Promise((resolve, reject) =&gt; {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;audioLoader.load(`${audioFiles[i]}`, function (buffer) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1057;&#1090;&#1074;&#1086;&#1088;&#1102;&#1108;&#1084;&#1086; &#1072;&#1091;&#1076;&#1110;&#1086; &#1076;&#1078;&#1077;&#1088;&#1077;&#1083;&#1086;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;let sound = new THREE.Audio(listener);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sound.name = `${audioFiles[i]}`;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sound.setBuffer(buffer);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1042;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1083;&#1102;&#1108;&#1084;&#1086; &#1074;&#1110;&#1076;&#1077;&#1086; &#1085;&#1072; &#1072;&#1074;&#1090;&#1086;&#1087;&#1086;&#1074;&#1090;&#1086;&#1088; &#1079;&#1072;&#1083;&#1077;&#1078;&#1085;&#1086; &#1074;&#1110;&#1076; &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1085;&#1103; &#1091; &#1084;&#1072;&#1089;&#1080;&#1074;&#1110;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (repeatOptions[i]) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sound.setLoop(true);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (patternBarcode[i] === -1) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;patternsSound.set(i, sound);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} else {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;barcodesSound.set(patternBarcode[i], sound);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;resolve(sound)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;});</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}).then((sound) =&gt; {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sound.play()</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sound.stop()</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;console.log(`File ${sound.name} loaded`)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}))</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1061;&#1086;&#1074;&#1072;&#1108;&#1084;&#1086; &#1083;&#1086;&#1072;&#1076;&#1077;&#1088; &#1087;&#1110;&#1089;&#1083;&#1103; &#1079;&#1072;&#1074;&#1072;&#1085;&#1090;&#1072;&#1078;&#1077;&#1085;&#1085;&#1103; &#1082;&#1086;&#1084;&#1087;&#1086;&#1085;&#1077;&#1085;&#1090;&#1110;&#1074;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Promise.all(contentPromises)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.then(() =&gt; {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;console.log(&#39;Most of the content loaded&#39;)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;contentInitialized = true;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;loader.style.opacity = &#39;0&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;});</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1044;&#1086;&#1076;&#1072;&#1108;&#1084;&#1086; &#1075;&#1086;&#1083;&#1086;&#1074;&#1085;&#1080;&#1081; &#1082;&#1086;&#1085;&#1090;&#1077;&#1081;&#1085;&#1077;&#1088; &#1085;&#1072; &#1089;&#1094;&#1077;&#1085;&#1091;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;scene.add(mainContainer);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;function checkController() {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (controller) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mainContainer.traverse((object) =&gt; {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (object.isMesh &amp;&amp; object !== controller) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (detectCollisionCubes(object, controller)) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;object.material.color.set(&#39;red&#39;)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} else {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;object.material.color.set(&#39;white&#39;)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;});</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1060;&#1091;&#1085;&#1082;&#1094;&#1110;&#1103; &#1087;&#1086;&#1096;&#1091;&#1082;&#1091; &#1087;&#1077;&#1088;&#1077;&#1090;&#1080;&#1085;&#1110;&#1074; &#1084;&#1110;&#1078; &#1076;&#1074;&#1086;&#1084;&#1072; &#1086;&#1073;&#39;&#1108;&#1082;&#1090;&#1072;&#1084;&#1080; &#1089;&#1094;&#1077;&#1085;&#1080;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;function detectCollisionCubes(object1, object2) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;object1.geometry.computeBoundingBox();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;object2.geometry.computeBoundingBox();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;object1.updateMatrixWorld();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;object2.updateMatrixWorld();</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const box1 = object1.geometry.boundingBox.clone();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;box1.applyMatrix4(object1.matrixWorld);</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const box2 = object2.geometry.boundingBox.clone();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;box2.applyMatrix4(object2.matrixWorld);</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return box1.intersectsBox(box2);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;};</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1054;&#1085;&#1086;&#1074;&#1083;&#1102;&#1108;&#1084;&#1086; AR &#1082;&#1086;&#1085;&#1090;&#1077;&#1085;&#1090; &#1085;&#1072; &#1082;&#1086;&#1078;&#1077;&#1085; &#1082;&#1072;&#1076;&#1088;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;function update() {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (arToolkitSource.ready !== false) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;arToolkitContext.update(arToolkitSource.domElement);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (contentInitialized) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (barcodesID.length) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;barcodesID.forEach((elem, index) =&gt; {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (arToolkitContext.arController.barcodeMarkers[elem].inCurrent) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;let sound = barcodesSound.get(elem);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (sound &amp;&amp; !sound.isPlaying) sound.play();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} else {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;let sound = barcodesSound.get(elem);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (sound &amp;&amp; sound.nodeName === &#39;VIDEO&#39;) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (!sound.paused) sound.pause()</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (sound &amp;&amp; sound.isPlaying) sound.stop();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;})</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (patternsID.length) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;for (let index = 0; index &lt; patternsID.length; index++) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (arToolkitContext.arController.patternMarkers[index].inCurrent) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;let patternID = (arToolkitContext.arController.patternMarkers[index].markerWidth - 1) * patternIdOffset - 1;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;patternID = Math.round(patternID)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;let sound = patternsSound.get(patternID);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (sound &amp;&amp; !sound.isPlaying) sound.play();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} else {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;let patternID = (arToolkitContext.arController.patternMarkers[index].markerWidth - 1) * patternIdOffset - 1;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;patternID = Math.round(patternID)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;let sound = patternsSound.get(patternID);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (sound &amp;&amp; sound.nodeName === &#39;VIDEO&#39;) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (!sound.paused) sound.pause()</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (sound &amp;&amp; sound.isPlaying) sound.stop();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1056;&#1077;&#1085;&#1076;&#1077;&#1088;&#1110;&#1084; &#1089;&#1094;&#1077;&#1085;&#1091; &#1085;&#1072; &#1082;&#1086;&#1078;&#1077;&#1085; &#1082;&#1072;&#1076;&#1088;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;function render() {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;renderer.render(scene, camera);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1047;&#1072;&#1087;&#1091;&#1089;&#1082;&#1072;&#1108;&#1084;&#1086; &#1094;&#1080;&#1082;&#1083; &#1072;&#1085;&#1110;&#1084;&#1072;&#1094;&#1110;&#1111;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;function animate(time) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#1055;&#1088;&#1080;&#1074;&#39;&#1103;&#1079;&#1091;&#1108;&#1084;&#1086; &#1094;&#1080;&#1082;&#1083; &#1072;&#1085;&#1110;&#1084;&#1072;&#1094;&#1110;&#1111; &#1076;&#1086; &#1088;&#1077;&#1085;&#1076;&#1077;&#1088;&#1091; &#1073;&#1088;&#1072;&#1091;&#1079;&#1077;&#1088;&#1072;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;requestAnimationFrame(animate);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;deltaTime = clock.getDelta();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;totalTime += deltaTime;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;update();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;checkController();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;render();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp;// &#1055;&#1088;&#1080;&#1073;&#1080;&#1088;&#1072;&#1108;&#1084;&#1086; &#1073;&#1083;&#1086;&#1082; &#1087;&#1110;&#1089;&#1083;&#1103; &#1085;&#1072;&#1090;&#1080;&#1089;&#1082;&#1072;&#1085;&#1085;&#1103; &#1085;&#1072; &#1077;&#1082;&#1088;&#1072;&#1085; &#1076;&#1083;&#1103; &#1076;&#1086;&#1079;&#1074;&#1086;&#1083;&#1091; &#1072;&#1091;&#1076;&#1110;&#1086; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1074;&#1072;&#1085;&#1085;&#1103; &#1085;&#1072; iOS</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp;access.addEventListener(&#39;click&#39;, () =&gt; {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;initiateExperience();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;document.body.removeChild(access);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;loader.style.display = &#39;block&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp;});</span></p><p class="c0"><span class="c1">&nbsp; &nbsp;&lt;/script&gt;</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c1">&lt;/body&gt;</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c5">&lt;/html&gt;</span></p></body></html>